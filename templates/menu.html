{% extends "base.html" %}

{% block title %}
AllMenus
{% endblock title %}

{% block content %}
  <div class="text-center">
    <h1>{{ restaurant.name }}</h1>
  </div>

  <div data-magellan-expedition="fixed">
    <dl class="sub-nav">
      {% for course in courses %}
        <dd data-magellan-arrival="{{ course }}s"><a href="#{{ course }}s">{{ course }}s</a></dd>
      {% endfor %}
    </dl>
  </div>

  {% if items %}

    <div class="row">
      {% for course in courses %}
        <div id="{{ course }}s" class="small-12 columns panel">
          <h3 data-magellan-destination="{{ course }}s">{{ course }}s</h3>
          <a name="{{ course }}s"></a>

          <div class="row" data-equalizer>

            {% for i in items %}

              {% if i.course == course %}
                <div class="small-12 medium-6 large-4 columns end">
                  <ul class="pricing-table" data-equalizer-watch>
                    <li class="title">{{ i.name }}</li>
                    <li class="price">{{ i.price }}</li>
                    <li class="description">{{ i.description }}</li>
                    <li class="cta-button">
                      <div class="cta-button-td">
                        <ul class="button-group even-2 radius">
                          <li><a href="{{ url_for('editMenuItem', restaurant_id = restaurant.id, menu_id = i.id) }}" class="button tiny">Edit</a></li>
                          <li><a href="{{ url_for('deleteMenuItem', restaurant_id = restaurant.id, menu_id = i.id) }}" class="button tiny">Delete</a></li>
                        </ul>
                      </div>
                    </li>
                  </ul>

                </div>

              {% endif %}

            {% endfor %}

          </div>

        </div>

      {% endfor %}
    </div>

  {% else %}
    <p>No menu items have been listed.</p>
  {% endif %}

</div>

<a href="{{ url_for('newMenuItem', restaurant_id = restaurant.id) }}" class="button small expand">New menu item</a>
<a href="{{ url_for('showRestaurants') }}" class="button small expand">Back to Restaurants</a>

{% endblock content %}

{% block footer_scripts %}
  {{ super() }}
  <script src="{{ url_for('static', filename='js/foundation/foundation.equalizer.js') }}"></script>
  <script src="{{ url_for('static', filename='js/foundation/foundation.magellan.js') }}"></script>
{% endblock footer_scripts %}

{% block foundation_call %}
  equalizer : {
    // Specify if Equalizer should make elements equal height once they become stacked.
    equalize_on_stack: true,
    // Allow equalizer to resize hidden elements
    act_on_hidden_el: false
  }
{% endblock foundation_call %}
